long_who_name_split <- long_who %>%
separate(age,
sep = c(1, 4),
into = c("min_age", "max_age"),
extra = "warn",
fill = "right"
)
View(long_who_name_split)
gc()
?sum
# your code here
sum((long_who$diagnosis), NA)
# your code here
long_who %>%
summarize(count = sum(count, na.rm = TRUE))
View(long_who)
# your code here
long_who %>%
summarize(count = sum(count, na.rm = false))
# your code here
long_who %>%
summarize(count = sum(count, na.rm = true))
# your code here
long_who %>%
summarize(count = sum(count, na.rm = TRUE))
ggplot(sales) +
geom_point(aes(x=Sales,y=Profit,color=Discount)) +
geom_smooth(method='lm',aes(y=Profit,x=Sales)) +
facet_grid(.~Category) +
scale_y_continuous(labels=scales::dollar_format()) +
theme(axis.text.x = element_text(angle = 45)) +
labs(title='Sales to Profit')
sales <- read.csv("Week_4/Data/sales.csv", stringsAsFactors=FALSE)
ggplot(sales) +
geom_point(aes(x=Sales,y=Profit,color=Discount)) +
geom_smooth(method='lm',aes(y=Profit,x=Sales)) +
facet_grid(.~Category) +
scale_y_continuous(labels=scales::dollar_format()) +
theme(axis.text.x = element_text(angle = 45)) +
labs(title='Sales to Profit')
#your code here
ggplot(long_who, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.title.x = element_text(angle = 45))
facet_wrap(~ diagnosis, ncol = 2)
#your code here
ggplot(long_who, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.title.x = element_text(angle = 45))
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2)
#your code here
ggplot(long_who, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
geom_smooth(method = 'lm', aes(x=gender, y=count)) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.title.x = element_text(angle = 45))
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2)
#your code here
ggplot(long_who, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
geom_smooth(method = 'lm', aes(x=gender, y=count)) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.title.x = element_text(angle = 45))
facet_grid(~ diagnosis, scales = "free_y", ncol = 2)
# your code here
count_per_diagnosis <- long_who_name_split %>%
group_by(diagnosis, gender) %>%
summarize(count = sum(count, na.rm = TRUE))
# your code here
count_per_diagnosis <- long_who_name_split %>%
group_by(diagnosis, gender) %>%
summarise(count = sum(count, na.rm = TRUE))
gc()
View(count_per_diagnosis)
# your code here
long_who %>%
summarize(count = sum(count, na.rm = TRUE))
ggplot(long_who_name_split, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme_minimal()
ggplot(long_who_name_split, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme_minimal(axis.title.x = element_text(angle = 45))
ggplot(long_who_name_split, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme_minimal(axis.title.x = element_text(angle = 45))
ggplot(long_who_name_split, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.title.x = element_text(angle = 45))
ggplot(long_who_name_split, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.x = element_text(angle = 45))
ggplot(long_who_name_split, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
gc()
# your code here
count_per_diagnosis <- long_who %>%
group_by(diagnosis, gender) %>%
summarize(count = sum(count, na.rm = TRUE))
# your code here
library(dplyr)
count_per_diagnosis <- long_who %>%
group_by(diagnosis, gender) %>%
summarize(count = sum(count, na.rm = TRUE))
# your code here
library(dplyr)
count_per_diagnosis <- long_who %>%
group_by("diagnosis", "gender") %>%
summarize(count = sum(count, na.rm = TRUE))
gc()
View(who_left_df)
library(dplyr)
library(tidyr)
library(ggplot2)
#your code here
data(who)
data(population)
long_who <- who %>% pivot_longer(
cols = new_sp_m014:newrel_f65,
names_to = c("diagnosis", "gender", "age"),
names_pattern = "new_?(.*)_(.)(.*)",
values_to = "count"
)
# your code here
who_left_df <- left_join(long_who, population, by = c('country','year'))
View(who_left_df)
# your code here
long_who_name_split <- who_left_df %>%
separate(age,
sep = c(1, 4),
into = c("min_age", "max_age"),
extra = "merge",
fill = "right"
)
# your code here
count_per_diagnosis <- long_who_df %>%
group_by("diagnosis", "gender") %>%
summarize(count = sum(count, na.rm = TRUE))
# your code here
count_per_diagnosis <- who_left_df %>%
group_by("diagnosis", "gender") %>%
summarize(count = sum(count, na.rm = TRUE))
View(count_per_diagnosis)
# your code here
count_per_diagnosis <- who_left_df %>%
group_by(gender, diagnosis) %>%
summarize(count = sum(count, na.rm = TRUE))
View(count_per_diagnosis)
# your code here
count_per_diagnosis <- who_left_df %>%
group_by(gender, diagnosis) %>%
summarize(count = sum(count, na.rm = TRUE))
head(count_per_diagnosis)
#your code here
ggplot(who_left_df, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
ggplot(long_who, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
geom_smooth(method = 'lm', aes(x=gender, y=count)) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.title.x = element_text(angle = 45))
facet_grid(~ diagnosis, scales = "free_y", ncol = 2)
View(count_per_diagnosis)
# your code here
who_left_df = left_join(long_who, population, by = c('country','year'))
View(who_left_df)
gc()
# your code here
count_per_diagnosis = who_left_df %>%
group_by(gender, diagnosis) %>%
summarize(count = sum(count, na.rm = TRUE))
head(count_per_diagnosis)
# your code here
count_per_diagnosis = who_left_df %>%
group_by(gender,diagnosis) %>%
summarize(count = sum(count, na.rm = TRUE))
head(count_per_diagnosis)
#your code here
ggplot(who_left_df, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
ggplot(long_who, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
facet_grid(~ diagnosis, scales = "free_y", ncol = 2) +
geom_smooth(method = 'lm', aes(x=gender, y=count))
#your code here
ggplot(who_left_df, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
ggplot(who_left_df, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
facet_grid(~ diagnosis, scales = "free_y", ncol = 2) +
geom_smooth(method = 'lm', aes(x=gender, y=count))
# your code here
who_left_df <- who_left_df %>%
separate(age,
sep = c(-2),
into = c("min_age", "max_age"))
?separate
gc()
library(dplyr)
library(tidyr)
library(ggplot2)
#your code here
data(who)
data(population)
long_who <- who %>% pivot_longer(
cols = new_sp_m014:newrel_f65,
names_to = c("diagnosis", "gender", "age"),
names_pattern = "new_?(.*)_(.)(.*)",
values_to = "count"
)
# your code here
who_left_df = left_join(long_who, population, by = c('country','year'))
# your code here
who_left_df <- who_left_df %>%
separate(age,
sep = c(-2),
into = c("min_age", "max_age"))
# your code here
count_per_diagnosis = who_left_df %>%
group_by(gender,diagnosis) %>%
summarize(count = sum(count, na.rm = TRUE))
head(count_per_diagnosis)
View(who_left_df)
# your code here
who_left_df <- who_left_df %>%
mutate(min_age = if_else(min_age == "", max_age, min_age),
max_age = if_else(max_age == "65", "Inf", max_age))
who_left_df$min_age = as.character(who_left_df$min_age)
who_left_df$max_age = as.character(who_left_df$max_age)
View(who_left_df)
# your code here
who_left_df <- who_left_df %>%
mutate(min_age = if_else(min_age == "", max_age, min_age),
max_age = if_else(max_age == "65", "", max_age))
who_left_df$min_age = as.character(who_left_df$min_age)
who_left_df$max_age = as.character(who_left_df$max_age)
?facet_grid
#your code here
ggplot(who_left_df, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme_minimal()
ggplot(who_left_df, aes(x=gender,y=count,fill=gender)) +
geom_col(position="dodge") +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme(axis.text.x = element_text(angle = 45))
facet_grid(~ diagnosis, scales = "free_y", ncol = 2) +
geom_smooth(method = 'lm', aes(x=gender, y=count))
#your code here
ggplot(who_left_df, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender") +
theme_minimal()
gc()
gc()
# your code here
who_left_df_filtered <- who_left_df %>%
na.omit()
View(who_left_df_filtered)
# your code here
who_left_df_filtered <- who_left_df %>%
na.omit()
per_pop <- who_left_df_filtered %>%
group_by(year, gender, diagnosis) %>%
summarize(percentage = sum(count) / sum(population) * 100)
head(per_pop)
View(per_pop)
# your code here
who_left_df_filtered <- who_left_df %>%
na.omit()
per_pop <- who_left_df_filtered %>%
group_by(year, gender, diagnosis) %>%
summarize(percentage = sum(count) / sum(population) * 100)
print(per_pop)
View(per_pop)
View(per_pop)
#your code here
ggplot(who_left_df, aes(x = gender, y = count, fill = gender)) +
geom_col(position = "dodge") +
facet_wrap(~ diagnosis, scales = "free_y", ncol = 2) +
labs(x = "Gender", y = "Counts", fill = "Gender", title = "Counts per Diagnosis by Gender")
# your code here
ggplot(per_pop) +
geom_point(aes(x = year, y = percentage, fill = year)) +
geom_smooth(method = "lm", aes(y=percentage, x=year)) +
facet_grid(~diagnosis) +
scale_y_continuous(labels = scales::percent_format()) +
labs(title = 'percentage of diagnosis by year', x-title = 'Year', y-title = "percentage")
# your code here
ggplot(per_pop) +
geom_point(aes(x = year, y = percentage, fill = year)) +
geom_smooth(method = "lm", aes(y=percentage, x=year)) +
facet_grid(~diagnosis) +
scale_y_continuous(labels = scales::percent_format()) +
labs(title = 'percentage of diagnosis by year', x= 'Year', y = "percentage")
View(per_pop)
View(who_left_df_filtered)
# your code here
who_left_df_filtered %>%
unite(col = 'age_range', min_age:max_age, sep = '-')
View(who_left_df_filtered)
View(who_left_df_filtered)
# your code here
who_left_df_filtered %>%
unite(col = 'age_range', min_age:max_age, sep = '-')
# your code here
who_left_df_filtered <- who_left_df_filtered %>%
unite(col = 'age_range', min_age:max_age, sep = '-')
View(who_left_df_filtered)
View(who_left_df)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count = sum(diagnosis))
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(diagnosis))
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
View(count_all)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
View(age_group_count)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
View(per_diag_age)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis') %>%
group_by(age_range, percentage) %>%
summarize(percentage = sum(count_all) / sum(age_group_count) * 100)
View(count_per_diagnosis)
View(per_diag_age)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis') %>%
group_by(age_range) %>%
summarize(percentage = sum(count_all) / sum(age_group_count) * 100)
View(per_diag_age)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis') %>%
group_by(age_range) %>%
summarize(percentage = sum(count_all) / sum(age_group_count))
View(per_diag_age)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis') %>%
group_by(diagnosis,age_range) %>%
summarize(percentage = sum(count_all) / sum(age_group_count))
View(per_diag_age)
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/total-count)*100)
View(per_diag_age)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/total-count)*100)
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/count_all)*100)
ggplot(per_diag_age, aes(x = diagnosis, y = percent of total, fill = diagnosis)) +
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/count_all)*100)
ggplot(per_diag_age, aes(x = diagnosis, y = percent total, fill = diagnosis)) +
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/count_all)*100)
ggplot(per_diag_age, aes(x = diagnosis, y = percentage, fill = age_range)) +
geom_col(position = "dodge") +
facet_wrap(~ age_range, scales = "free_y", ncol = 2) +
labs(x = "Diagnosis", y = "Percent of Total", fill = "Age_range", title = "Percent Total Age-Group Per Diagnosis")
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/count_all)*100)
ggplot(per_diag_age, aes(x = diagnosis, y = percentage, fill = age_range)) +
geom_col(position = "dodge") +
facet_wrap(~ age_range, scales = "free_y", ncol = 2) +
labs(x = "Diagnosis", y = "Percent of Total", fill = "Age_range", title = "Percent Total Age-Group Per Diagnosis")
# your code here
ggplot(per_pop) +
geom_point(aes(x = year, y = percentage, fill = year)) +
geom_smooth(method = "lm", aes(y=percentage, x=year)) +
facet_grid(~diagnosis) +
scale_y_continuous(labels = scales::percent_format()) +
labs(title = 'percentage of diagnosis by year', x= 'Year', y = "percentage")
?ggplot
?geom_smooth
# your code here
count_all <- who_left_df_filtered %>%
group_by(diagnosis) %>%
summarize(count_all = sum(count))
age_group_count <- who_left_df_filtered %>%
group_by(diagnosis, age_range) %>%
summarize(age_group_count = sum(count))
per_diag_age <- count_all %>%
left_join(age_group_count, by='diagnosis')
per_diag_age <- per_diag_age %>%
mutate(percentage = (age_group_count/count_all)*100)
ggplot(per_diag_age, aes(x = diagnosis, y = percentage, fill = age_range)) +
geom_col(position = "dodge2") +
facet_wrap(~ age_range, scales = "free_y", ncol = 2) +
labs(x = "Diagnosis", y = "Percent of Total", fill = "Age_range", title = "Percent Total Age-Group Per Diagnosis")
